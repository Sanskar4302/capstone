<div class="container">
  <h2>Manage Vehicles</h2>

  <form #vehicleForm="ngForm" (ngSubmit)="isUpdating ? updateVehicle(vehicleForm) : addVehicle(vehicleForm)">
    <div class="form-group">
      <label for="make">Make:</label>
      <input type="text" id="make" name="make" ngModel required>
    </div>
    <div class="form-group">
      <label for="model">Model:</label>
      <input type="text" id="model" name="model" ngModel required>
    </div>
    <div class="form-group">
      <label for="year">Year:</label>
      <input type="number" id="year" name="year" ngModel required>
    </div>
    <div class="form-group">
      <label for="customerID">Customer ID:</label>
      <select id="customerID" name="customerID" ngModel required>
        <option *ngFor="let customer of customers" [value]="customer.customerID">{{ customer.name }}</option>
      </select>
    </div>
    <button type="submit" class="btn btn-primary">{{ isUpdating ? 'Update' : 'Add' }} Vehicle</button>
  </form>

  <div *ngIf="selectedVehicle">
    <h3>Vehicle Details</h3>
    <p><strong>Make:</strong> {{ selectedVehicle.make }}</p>
    <p><strong>Model:</strong> {{ selectedVehicle.model }}</p>
    <p><strong>Year:</strong> {{ selectedVehicle.year }}</p>
    <p><strong>Customer ID:</strong> {{ selectedVehicle.customerID }}</p>
    <button (click)="clearDetails()" class="btn btn-secondary">Clear</button>
  </div>

  <h3>Vehicle List</h3>
  <ul class="list-group">
    <li *ngFor="let vehicle of vehiclesMap.values()" class="list-group-item">
      {{ vehicle.make }} {{ vehicle.model }} ({{ vehicle.year }})
      <button (click)="showDetails(vehicle.modelId)" class="btn btn-info btn-sm">Details</button>
      <button (click)="deleteVehicle(vehicle.modelId)" class="btn btn-danger btn-sm">Delete</button>
    </li>
  </ul>
</div>
